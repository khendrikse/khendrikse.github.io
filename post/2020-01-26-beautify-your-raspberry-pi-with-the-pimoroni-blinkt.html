<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="description" content="Online space, blog and portfolio"/><title>Karin Hendrikse | Beautify your Raspberry Pi with the Pimoroni Blinkt!</title><meta name="next-head-count" content="4"/><link rel="preload" href="/_next/static/css/732ee4fb28785efcf7c7.css" as="style"/><link rel="stylesheet" href="/_next/static/css/732ee4fb28785efcf7c7.css" data-n-g=""/><link rel="preload" href="/_next/static/css/cab139b8b70b2a825fa5.css" as="style"/><link rel="stylesheet" href="/_next/static/css/cab139b8b70b2a825fa5.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a54b4f32bdc1ef890ddd.js"></script><script src="/_next/static/chunks/webpack-ddd010a953737b6e3536.js" defer=""></script><script src="/_next/static/chunks/framework-2191d16384373197bc0a.js" defer=""></script><script src="/_next/static/chunks/main-b2b078f7defd05ec65c8.js" defer=""></script><script src="/_next/static/chunks/pages/_app-5dedd3b833f0fc9fc8d5.js" defer=""></script><script src="/_next/static/chunks/731-efbb25f7d76b0253a6c5.js" defer=""></script><script src="/_next/static/chunks/961-8171967c736cf1b2a034.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bpostname%5D-64bc215a975018d63e80.js" defer=""></script><script src="/_next/static/378n06UdX0K3-FgGvwx6b/_buildManifest.js" defer=""></script><script src="/_next/static/378n06UdX0K3-FgGvwx6b/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="wrapper"><section class="layout"><header><nav class="navbar_navbar__1QDXy"><div class="navbar_navbar__inner__1dVAh"><h1 class="navbar_navbar__title__1XHtO"><a href="/">Karin Hendrikse</a></h1><ul class="navbar_navbar__menu__2og52"><li><a class="navbar_navbar__menu__item__3A2Fp" href="/about">About</a></li><li><a class="navbar_navbar__menu__item__3A2Fp" href="/blog">Blog</a></li><li><a class="navbar_navbar__menu__item__3A2Fp" href="/projects">Projects</a></li><li><a class="navbar_navbar__menu__item__3A2Fp" href="/">Home</a></li></ul></div></nav></header><div class="content"><article><img class="post_post__header__image__PDYc8" src="https://thepracticaldev.s3.amazonaws.com/i/jwk9ue7pvtuj151srtod.JPG?lqip" alt="a raspberry pi with shining LED lights" style="transition:0.2s filter linear;filter:blur(20px)"/><div class="container"><div class="post_post__header__title__1gD1Q"><h1>Beautify your Raspberry Pi with the Pimoroni Blinkt!</h1><div class="post_post__date_label__3dR5g">2020-01-26</div></div></div><div class="post_post__body__2TJcL"><div class="container"><div class="post_post__intro__Nk6io">You know those gaming PC&#x27;s with their awesome LEDs spinning around? Well, I don&#x27;t have one of those. But I am learning Linux on my Raspberry Pi. And I learn quicker by working on fun small side projects. So I decided to spice my Raspberry Pi up using the Pimoroni Blinkt.</div><p><img alt="LEDs light up inside a Raspberry Pi" src="https://thepracticaldev.s3.amazonaws.com/i/q06jxjljnvamg81gclj0.gif?lqip" style="transition:0.2s filter linear;filter:blur(20px)"/></p><p><strong>In this post we&#x27;re going to write a little Python script, and in <a href="https://dev.to/khenhey/light-up-leds-when-you-start-your-raspberry-pi-and-clear-them-on-shutdown-542">the next post</a> we&#x27;ll turn the LEDs on as a background process at startup and switch them off again during shutdown.</strong></p><h2>Setting up the <a href="https://shop.pimoroni.com/products/blinkt">Pimoroni Blinkt</a></h2><p>Setting up the Blinkt is quite straight-forward. First, make sure to place the Blinkt on the Raspberry Pi&#x27;s 40-pin header. The rounded corners of the Blinkt should align with the Pi&#x27;s rounded corner.</p><p>Make sure you are logged into your Pi and in the terminal run</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-bash" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>$ </span><span class="token" style="color:#DD4A68">curl</span><span> https://get.pimoroni.com/blinkt </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">|</span><span> </span><span class="token" style="color:#DD4A68">bash</span></code></pre><p>This will install the software you&#x27;ll need to run the Blinkt. We&#x27;re using the <a href="http://docs.pimoroni.com/blinkt/">documentation</a> to learn how to set up a linear blue/purple pattern.</p><p>Create and open a new Python file in your terminal. In my case I created one in the Pimoroni folder:</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-bash" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>$ </span><span class="token" style="color:#DD4A68">nano</span><span> Pimoroni/blue_purple.py</span></code></pre><p>I did this using the <code>nano</code> editor. You can also create a file another way and open it in your preferred editor.</p><h2>Import dependencies</h2><p>First, we need to import the libraries we need. At the top of the file we import <code>blinkt</code> to control the LEDs, <code>time</code> to create time-outs and <code>numpy</code> to create a range of decimals later on.</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-py" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:slategray">#!/usr/bin/env python</span><span>
</span>
<span></span><span class="token" style="color:#07a">import</span><span> blinkt
</span><span></span><span class="token" style="color:#07a">import</span><span> time
</span><span></span><span class="token" style="color:#07a">import</span><span> numpy</span></code></pre><h2>Variables</h2><p>Create a list of colors in RGB format. With this, I mean that we create a list of lists. Each small list contains a number for r, g, and b.</p><p>Then we use <code>numpy</code> to create a range of floats between <code>0</code> and <code>0.5</code>. The range is made with steps of <code>0.03</code>. This range will help us gradually light up each pixel.</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-py" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>COLOR_LIST </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">[</span><span class="token" style="color:#999">[</span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#905">127</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#905">255</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#999">[</span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#905">255</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#999">[</span><span class="token" style="color:#905">127</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#905">255</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#999">[</span><span class="token" style="color:#905">255</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#905">255</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#999">[</span><span class="token" style="color:#905">255</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#905">127</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">]</span><span>
</span><span>BRIGHTNESS_RANGE </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> numpy</span><span class="token" style="color:#999">.</span><span>arange</span><span class="token" style="color:#999">(</span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#905">0.5</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#905">0.03</span><span class="token" style="color:#999">)</span></code></pre><p>Add the following script to ensure that if the script stops, the LEDs clear.</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-py" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>blinkt</span><span class="token" style="color:#999">.</span><span>set_clear_on_exit</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span></code></pre><h2>Setting the pixels</h2><p>We will create a function that takes a pixel, the RGB colors and a range of values that represent the different brightnesses as arguments. It will loop over the list of values for brightness and for every brightness value it will set a pixel with the correct color.</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-py" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">def</span><span> </span><span class="token" style="color:#DD4A68">set_brightness</span><span class="token" style="color:#999">(</span><span>pixel</span><span class="token" style="color:#999">,</span><span> r</span><span class="token" style="color:#999">,</span><span> g</span><span class="token" style="color:#999">,</span><span> b</span><span class="token" style="color:#999">,</span><span> brightRange</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">:</span><span>
</span><span>    </span><span class="token" style="color:#07a">for</span><span> brightness </span><span class="token" style="color:#07a">in</span><span> brightRange</span><span class="token" style="color:#999">:</span><span>
</span><span>        blinkt</span><span class="token" style="color:#999">.</span><span>set_pixel</span><span class="token" style="color:#999">(</span><span>pixel</span><span class="token" style="color:#999">,</span><span> r</span><span class="token" style="color:#999">,</span><span> g</span><span class="token" style="color:#999">,</span><span> b</span><span class="token" style="color:#999">,</span><span> brightness</span><span class="token" style="color:#999">)</span><span>
</span><span>	blinkt</span><span class="token" style="color:#999">.</span><span>show</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span>
</span><span>        </span><span class="token" style="color:slategray"># we need to run show after setting the pixel</span><span>
</span><span>        </span><span class="token" style="color:slategray"># otherwise we won&#x27;t see anything change.</span><span>
</span><span>	time</span><span class="token" style="color:#999">.</span><span>sleep</span><span class="token" style="color:#999">(</span><span class="token" style="color:#905">0.01</span><span class="token" style="color:#999">)</span><span>
</span><span>        </span><span class="token" style="color:slategray"># give it a little time to add a slight effect.</span></code></pre><h2>While loop</h2><p>Now we&#x27;re going to get to the actual loop that is going to make our Pimoroni Blinkt light up.</p><p>We are going to start a while loop and inside loop over every color array in <code>COLOR_LIST</code>.</p><p>When we run the script inside the terminal and press <code>CTRL-C</code> it will throw a KeyboardInterrupt exception. Because we want to make sure we can stop our <code>While True</code> loop, we use <code>try</code> and listen for the exception to stop the loop.</p><p>The blinkt library has its own constant called <code>blinkt.NUM_PIXELS</code> that spits out the amount of pixels that are available on the device. For every pixel, we call the <code>set_brightness</code> function. We pass the pixel and RGB colors, together with the <code>BRIGHTNESS_RANGE</code>.</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-py" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">try</span><span class="token" style="color:#999">:</span><span>
</span><span>    </span><span class="token" style="color:#07a">while</span><span> </span><span class="token" style="color:#905">True</span><span class="token" style="color:#999">:</span><span>
</span><span>        </span><span class="token" style="color:#07a">for</span><span> color </span><span class="token" style="color:#07a">in</span><span> COLOR_LIST</span><span class="token" style="color:#999">:</span><span>
</span><span>            </span><span class="token" style="color:#07a">for</span><span> pixel </span><span class="token" style="color:#07a">in</span><span> </span><span class="token" style="color:#690">range</span><span class="token" style="color:#999">(</span><span>blinkt</span><span class="token" style="color:#999">.</span><span>NUM_PIXELS</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">:</span><span>
</span><span>                set_brightness</span><span class="token" style="color:#999">(</span><span>pixel</span><span class="token" style="color:#999">,</span><span> color</span><span class="token" style="color:#999">[</span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">,</span><span> color</span><span class="token" style="color:#999">[</span><span class="token" style="color:#905">1</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">,</span><span> color</span><span class="token" style="color:#999">[</span><span class="token" style="color:#905">2</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">,</span><span> BRIGHTNESS_RANGE</span><span class="token" style="color:#999">)</span><span>
</span><span>            </span><span class="token" style="color:#07a">for</span><span> pixel </span><span class="token" style="color:#07a">in</span><span> </span><span class="token" style="color:#690">reversed</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">range</span><span class="token" style="color:#999">(</span><span>blinkt</span><span class="token" style="color:#999">.</span><span>NUM_PIXELS</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">:</span><span>
</span><span>                set_brightness</span><span class="token" style="color:#999">(</span><span>pixel</span><span class="token" style="color:#999">,</span><span> color</span><span class="token" style="color:#999">[</span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">,</span><span> color</span><span class="token" style="color:#999">[</span><span class="token" style="color:#905">1</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">,</span><span> color</span><span class="token" style="color:#999">[</span><span class="token" style="color:#905">2</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#690">reversed</span><span class="token" style="color:#999">(</span><span>BRIGHTNESS_RANGE</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">)</span><span>
</span><span></span><span class="token" style="color:#07a">except</span><span> KeyboardInterrupt</span><span class="token" style="color:#999">:</span><span>
</span><span>    </span><span class="token" style="color:#07a">pass</span></code></pre><p>Because we want the pixels to light up, and then gradually turn off again, we do a reversed for loop. See the difference between the two? We use <code>reversed(range(blinkt.NUM_PIXELS))</code> and we also send a reversed <code>BRIGHTNESS_RANGE</code>.</p><p>This is it for now! Try it out by saving the file and running it:</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-bash" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>$ python blue_purple.py</span></code></pre><p>To stop the script, use <code>CTRL-C</code>.</p><p>This is only the first part. In <a href="https://dev.to/khenhey/light-up-leds-when-you-start-your-raspberry-pi-and-clear-them-on-shutdown-542">the next post</a>, we will set up our Raspberry Pi so it starts running this script as a background process on startup, and close it when we shut the Pi down.</p><p><strong>Check the <a href="https://github.com/khendrikse/blinkt-purple-blue/blob/master/blue_purple.py">finished script</a></strong></p><p><em>Sources:</em>
<a href="https://learn.pimoroni.com/tutorial/sandyj/getting-started-with-blinkt">Get started with Blinkt</a>
<a href="http://docs.pimoroni.com/blinkt/#enable-disable-clear-on-exit">Pimoroni Blinkt Documentation</a>
<a href="http://effbot.org/zone/stupid-exceptions-keyboardinterrupt.htm">KeyboardInterrupt</a></p></div></div></article></div></section></div><div class="footer_footer__qYcpy"><div class="footer_footer__links__5CZ7M"><a class="footer_footer__link__mPbqN" href="https://dev.to/khenhey"><img width="24px" height="24px" src="/assets/images/devto.svg?" alt="DEV.to icon"/>dev.to</a><a class="footer_footer__link__mPbqN" href="https://github.com/khendrikse"><img width="24px" height="24px" src="/assets/images/github.svg?" alt="GitHub icon"/>GitHub</a></div>© 2021 Karin Hendrikse</div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"siteTitle":"Karin Hendrikse","frontmatter":{"layout":"post","title":"Beautify your Raspberry Pi with the Pimoroni Blinkt!","published":true,"description":"Make your Raspberry Pi shine in blue and purple colors.","cover_image":"https://thepracticaldev.s3.amazonaws.com/i/jwk9ue7pvtuj151srtod.JPG","cover_image_alt":"a raspberry pi with shining LED lights","tags":null,"intro":"You know those gaming PC's with their awesome LEDs spinning around? Well, I don't have one of those. But I am learning Linux on my Raspberry Pi. And I learn quicker by working on fun small side projects. So I decided to spice my Raspberry Pi up using the Pimoroni Blinkt."},"markdownBody":"\n![LEDs light up inside a Raspberry Pi](https://thepracticaldev.s3.amazonaws.com/i/q06jxjljnvamg81gclj0.gif)\n\n**In this post we're going to write a little Python script, and in [the next post](https://dev.to/khenhey/light-up-leds-when-you-start-your-raspberry-pi-and-clear-them-on-shutdown-542) we'll turn the LEDs on as a background process at startup and switch them off again during shutdown.**\n\n## Setting up the [Pimoroni Blinkt](https://shop.pimoroni.com/products/blinkt)\n\nSetting up the Blinkt is quite straight-forward. First, make sure to place the Blinkt on the Raspberry Pi's 40-pin header. The rounded corners of the Blinkt should align with the Pi's rounded corner.\n\nMake sure you are logged into your Pi and in the terminal run\n\n```bash\n$ curl https://get.pimoroni.com/blinkt | bash\n```\n\nThis will install the software you'll need to run the Blinkt. We're using the [documentation](http://docs.pimoroni.com/blinkt/) to learn how to set up a linear blue/purple pattern.\n\nCreate and open a new Python file in your terminal. In my case I created one in the Pimoroni folder:\n\n```bash\n$ nano Pimoroni/blue_purple.py\n```\n\nI did this using the `nano` editor. You can also create a file another way and open it in your preferred editor.\n\n## Import dependencies\n\nFirst, we need to import the libraries we need. At the top of the file we import `blinkt` to control the LEDs, `time` to create time-outs and `numpy` to create a range of decimals later on.\n\n```py\n#!/usr/bin/env python\n\nimport blinkt\nimport time\nimport numpy\n\n```\n\n## Variables\n\nCreate a list of colors in RGB format. With this, I mean that we create a list of lists. Each small list contains a number for r, g, and b.\n\nThen we use `numpy` to create a range of floats between `0` and `0.5`. The range is made with steps of `0.03`. This range will help us gradually light up each pixel.\n\n```py\nCOLOR_LIST = [[0, 127, 255], [0, 0, 255], [127, 0, 255], [255, 0, 255], [255, 0, 127]]\nBRIGHTNESS_RANGE = numpy.arange(0, 0.5, 0.03)\n```\n\nAdd the following script to ensure that if the script stops, the LEDs clear.\n\n```py\nblinkt.set_clear_on_exit()\n```\n\n## Setting the pixels\n\nWe will create a function that takes a pixel, the RGB colors and a range of values that represent the different brightnesses as arguments. It will loop over the list of values for brightness and for every brightness value it will set a pixel with the correct color.\n\n```py\ndef set_brightness(pixel, r, g, b, brightRange):\n    for brightness in brightRange:\n        blinkt.set_pixel(pixel, r, g, b, brightness)\n\tblinkt.show()\n        # we need to run show after setting the pixel\n        # otherwise we won't see anything change.\n\ttime.sleep(0.01)\n        # give it a little time to add a slight effect.\n```\n\n## While loop\n\nNow we're going to get to the actual loop that is going to make our Pimoroni Blinkt light up.\n\n\nWe are going to start a while loop and inside loop over every color array in `COLOR_LIST`.\n\nWhen we run the script inside the terminal and press `CTRL-C` it will throw a KeyboardInterrupt exception. Because we want to make sure we can stop our `While True` loop, we use `try` and listen for the exception to stop the loop.\n\nThe blinkt library has its own constant called `blinkt.NUM_PIXELS` that spits out the amount of pixels that are available on the device. For every pixel, we call the `set_brightness` function. We pass the pixel and RGB colors, together with the `BRIGHTNESS_RANGE`.\n\n\n```py\ntry:\n    while True:\n        for color in COLOR_LIST:\n            for pixel in range(blinkt.NUM_PIXELS):\n                set_brightness(pixel, color[0], color[1], color[2], BRIGHTNESS_RANGE)\n            for pixel in reversed(range(blinkt.NUM_PIXELS)):\n                set_brightness(pixel, color[0], color[1], color[2], reversed(BRIGHTNESS_RANGE))\nexcept KeyboardInterrupt:\n    pass\n```\n\nBecause we want the pixels to light up, and then gradually turn off again, we do a reversed for loop. See the difference between the two? We use `reversed(range(blinkt.NUM_PIXELS))` and we also send a reversed `BRIGHTNESS_RANGE`.\n\nThis is it for now! Try it out by saving the file and running it:\n\n```bash\n$ python blue_purple.py\n```\n\nTo stop the script, use `CTRL-C`.\n\nThis is only the first part. In [the next post](https://dev.to/khenhey/light-up-leds-when-you-start-your-raspberry-pi-and-clear-them-on-shutdown-542), we will set up our Raspberry Pi so it starts running this script as a background process on startup, and close it when we shut the Pi down.\n\n**Check the [finished script](https://github.com/khendrikse/blinkt-purple-blue/blob/master/blue_purple.py)**\n\n_Sources:_\n[Get started with Blinkt](https://learn.pimoroni.com/tutorial/sandyj/getting-started-with-blinkt)\n[Pimoroni Blinkt Documentation](http://docs.pimoroni.com/blinkt/#enable-disable-clear-on-exit)\n[KeyboardInterrupt](http://effbot.org/zone/stupid-exceptions-keyboardinterrupt.htm)\n","date":["2020-01-26"]},"__N_SSG":true},"page":"/post/[postname]","query":{"postname":"2020-01-26-beautify-your-raspberry-pi-with-the-pimoroni-blinkt"},"buildId":"378n06UdX0K3-FgGvwx6b","runtimeConfig":{},"isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>