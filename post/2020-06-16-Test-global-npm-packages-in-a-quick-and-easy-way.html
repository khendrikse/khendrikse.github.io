<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Karin Hendrikse | Test global npm packages in a quick and easy way</title><link href="https://fonts.googleapis.com/css2?family=Karla:wght@400;700&amp;family=Rubik:wght@700" rel="stylesheet"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css"/><meta name="next-head-count" content="5"/><link rel="preload" href="/_next/static/css/a7e01ad7bca7e38a3f42.css" as="style"/><link rel="stylesheet" href="/_next/static/css/a7e01ad7bca7e38a3f42.css" data-n-g=""/><link rel="preload" href="/_next/static/css/96a0957cd60117671869.css" as="style"/><link rel="stylesheet" href="/_next/static/css/96a0957cd60117671869.css" data-n-p=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-ae4733327bd95c4ac325.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.50c3b31bc23dfcb1af3f.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.9528123feb626448eb3f.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-9e682fc65d6044778023.js" as="script"/><link rel="preload" href="/_next/static/chunks/0ac3ed5b5728fac15050537fed2171d1e1db6173.269474c3be8620614fcf.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/post/%5Bpostname%5D-7fd66e0bcf0d98800895.js" as="script"/></head><body><div id="__next"><div class="wrapper"><section class="layout"><header><nav class="navbar_navbar__1QDXy"><div class="navbar_navbar__inner__1dVAh"><h1 class="navbar_navbar__title__1XHtO"><a href="/">Karin Hendrikse</a></h1><ul class="navbar_navbar__menu__2og52"><a class="navbar_navbar__menu__item__3A2Fp" href="/">Home</a><a class="navbar_navbar__menu__item__3A2Fp" href="/about">About</a><a class="navbar_navbar__menu__item__3A2Fp" href="/blog">Blog</a></ul></div></nav></header><div class="content"><article><img class="post_post__header__image__PDYc8" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAABRNAAAUTQGUyo0vAAAAlklEQVQY002O2w6DIBBE9/9/sIlSe7N4waSmwIIPOl0E2z6czJnZl6V4t3BNQLg58NUX3L4dPd1oVBFjvQiSu+duxI34UC0YJOlykqF5Q9cenXLQyuNRMfpz9rQnp7ELmDrG1DOMuCndJPTvRpHlnyWCA4NjQfy7FSjwLDIjZeAXmA/PHDfa7BObE7xgNTZus/9ta2zxAS2GCgQOcrL0AAAAAElFTkSuQmCC" style="transition:0.2s filter linear;filter:blur(20px)"/><div class="container"><div class="post_post__header__title__1gD1Q"><h1>Test global npm packages in a quick and easy way</h1><div class="post_post__date_label__3dR5g">2020-06-16</div></div></div><div class="post_post__body__2TJcL"><div class="container"><div class="post_post__intro__Nk6io">You might already be used to creating symlinks between projects locally using yarn or npm. But what if you are  working on a cli package that you want the user to use globally? You also want to be able to test your package locally to make sure everything is working as it should. But how do you do this? Here’s an easy guide on achieving a link to a local project to test out globally in your command line using either yarn or npm.</div><h2>How do you link projects?</h2><p>Let’s say you are working on a React app and you have another project, like a component library, that you are also working on at the same time. You want to make changes in your component library and test them out in your React app without first having to deploy the entire package right? Let’s talk about how you can actually do this. Please don’t forget: the React app and component library are examples. You can do this with any project.</p><h3>1. Making your package available</h3><p>First we need to make the package (in our example a component library) available in your local system by going into its folder using your terminal and running:</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-shell" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:slategray"># yarn</span><span>
</span><span></span><span class="token" style="color:#DD4A68">yarn</span><span> </span><span class="token" style="color:#DD4A68">link</span><span>
</span>
<span></span><span class="token" style="color:slategray"># npm</span><span>
</span><span></span><span class="token" style="color:#DD4A68">npm</span><span> </span><span class="token" style="color:#DD4A68">link</span></code></pre><p><strong>What does this do?</strong></p><p>This command creates a symlink to our package in a specific location. You can see them in the location by going to the location:</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-shell" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:slategray"># yarn</span><span>
</span><span></span><span class="token" style="color:#DD4A68">cd</span><span> ~/.config/yarn/link
</span>
<span></span><span class="token" style="color:slategray"># npm</span><span>
</span><span></span><span class="token" style="color:slategray"># first figure out where your npm packages are saved by running</span><span>
</span>
<span></span><span class="token" style="color:#DD4A68">npm</span><span> config </span><span class="token" style="color:#DD4A68">ls</span><span> -l
</span>
<span></span><span class="token" style="color:slategray"># find the ‘prefix’ key</span><span>
</span><span></span><span class="token" style="color:slategray"># you can find where your packages are saved in</span><span>
</span>
<span></span><span class="token" style="color:#DD4A68">cd</span><span> </span><span class="token" style="color:#999">{</span><span>prefix</span><span class="token" style="color:#999">}</span><span>/lib/node_modules</span></code></pre><p>Then run <code>ls</code> to see a list of all the packages that are installed.</p><blockquote><p><strong>You keep talking about symlinks. What are those?</strong>
A symlink (or ‘symbolic link’) is a file that has a reference to another file. You can also explain it as being a file that points to another file, or you can see it as a ‘shortcut’ on your computer.</p><p>When you create a symlink you are telling your computer to create a link to file A. This link is saved in file B. When we want to use file B, we are essentially using file A.</p></blockquote><h3>2. Linking to your package</h3><p>We now go to the project where you want to use the package (in our example the React app). In here we run</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-shell" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:slategray"># yarn</span><span>
</span><span></span><span class="token" style="color:#DD4A68">yarn</span><span> </span><span class="token" style="color:#DD4A68">link</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>package name</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span>
<span></span><span class="token" style="color:slategray"># So, let’s say that your package’s name is ‘catpaws’ you will do</span><span>
</span><span></span><span class="token" style="color:#DD4A68">yarn</span><span> </span><span class="token" style="color:#DD4A68">link</span><span> “catpaws”
</span>
<span></span><span class="token" style="color:slategray"># npm</span><span>
</span><span></span><span class="token" style="color:#DD4A68">npm</span><span> </span><span class="token" style="color:#DD4A68">link</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>package name</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span>
<span></span><span class="token" style="color:slategray"># So, let’s say that your package’s name is ‘catpaws’ you will do</span><span>
</span><span></span><span class="token" style="color:#DD4A68">npm</span><span> </span><span class="token" style="color:#DD4A68">link</span><span> “catpaws”</span></code></pre><p>Awesome.</p><p>Your project now has its package linked locally so you can test everything out. Are you done testing? Then make sure to unlink the package in your project folder by running:</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-shell" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:slategray"># yarn</span><span>
</span><span></span><span class="token" style="color:#DD4A68">yarn</span><span> unlink </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>package name</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span>
</span>
<span></span><span class="token" style="color:slategray"># npm</span><span>
</span><span></span><span class="token" style="color:#DD4A68">npm</span><span> unlink </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span>package name</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span></code></pre><p>And remove the package from the symlinks list by going to the folder of your package and running:</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-shell" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:slategray"># yarn</span><span>
</span><span></span><span class="token" style="color:#DD4A68">yarn</span><span> unlink
</span>
<span></span><span class="token" style="color:slategray"># npm</span><span>
</span><span></span><span class="token" style="color:#DD4A68">npm</span><span> unlink</span></code></pre><h2>How to link to your package globally?</h2><p>So it’s all great to know how to create local links between projects, but how about when you don’t have a project, but your computer that needs to globally link to your local package? Well, it’s actually a bit different, but still super easy. First, let’s check which packages you already have installed globally by running:</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-shell" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:slategray"># yarn</span><span>
</span><span></span><span class="token" style="color:#DD4A68">yarn</span><span> global list
</span>
<span></span><span class="token" style="color:slategray"># yarn</span><span>
</span><span></span><span class="token" style="color:#DD4A68">npm</span><span> </span><span class="token" style="color:#DD4A68">ls</span><span> -g --depth</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#905">0</span><span> --link</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span>true</span></code></pre><p>You should get a nice overview of stuff that is already installed.</p><h3>1. Link to your package.</h3><p><strong>yarn</strong>
In your terminal, run <code>yarn global add /full/path/to/package</code>.
If we now run <code>yarn global list</code> again, we should see the name of our package in the list.</p><p>If you want to remove it you simply run <code>yarn global remove “package name”</code>.</p><p>Now there is a tricky part here. Yarn does not fully seem to support globally linking to local packages yet so the way we do this is actually a bit hacky. You see, yarn does not automatically update the package you have added, so for each change you want to test, you have to add it again...</p><p>It&#x27;s easier with npm:</p><p><strong>npm</strong>
With npm it it the same as before, but we just go to the folder of our package and run <code>npm link</code>.</p><p>If you now run <code>npm ls -g --depth=0 --link=true</code> you’ll see that your package is in the list.</p><p>You remove it from the list by going into the package folder and running <code>npm unlink</code>.</p><h2>Conclusion</h2><p>Using either yarn or npm, once you know how, it can be easy to create symlinks to test any package between projects, or in global mode. Right now, npm seems to have the easiest workflow.</p><p>I got stuck the first time I had to develop something that I wanted to test globally and it took me some time to figure out how to make this work. I hope this helps others who might encounter the same problem. If you have any other way to do this please share them in the comments so we can all learn from it 👍.</p></div></div></article></div></section></div><div class="footer_footer__qYcpy"><div class="footer_footer__links__5CZ7M"><a class="footer_footer__link__mPbqN" href="https://dev.to/khenhey"><img src="/assets/images/devto.svg?"/>dev.to</a><a class="footer_footer__link__mPbqN" href="https://github.com/khendrikse"><img src="/assets/images/github.svg?"/>GitHub</a></div>© 2021 Karin Hendrikse</div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"siteTitle":"Karin Hendrikse","frontmatter":{"layout":"post","title":"Test global npm packages in a quick and easy way","published":true,"description":"A quick guide on testing out local global npm packages line using npm or yarn.","intro":"You might already be used to creating symlinks between projects locally using yarn or npm. But what if you are  working on a cli package that you want the user to use globally? You also want to be able to test your package locally to make sure everything is working as it should. But how do you do this? Here’s an easy guide on achieving a link to a local project to test out globally in your command line using either yarn or npm.","tags":"beginner, javascript, npm, yarn","cover_image":"2020-06-16-cover_image.png"},"markdownBody":"\n## How do you link projects?\n\nLet’s say you are working on a React app and you have another project, like a component library, that you are also working on at the same time. You want to make changes in your component library and test them out in your React app without first having to deploy the entire package right? Let’s talk about how you can actually do this. Please don’t forget: the React app and component library are examples. You can do this with any project.\n\n### 1. Making your package available\n\nFirst we need to make the package (in our example a component library) available in your local system by going into its folder using your terminal and running:\n\n```shell\n# yarn\nyarn link\n\n# npm\nnpm link\n```\n\n\n**What does this do?**\n\nThis command creates a symlink to our package in a specific location. You can see them in the location by going to the location:\n\n```shell\n# yarn\ncd ~/.config/yarn/link\n\n# npm\n# first figure out where your npm packages are saved by running\n\nnpm config ls -l\n\n# find the ‘prefix’ key\n# you can find where your packages are saved in\n\ncd {prefix}/lib/node_modules\n```\n\nThen run `ls` to see a list of all the packages that are installed.\n\n\n\u003e **You keep talking about symlinks. What are those?**\n\u003e A symlink (or ‘symbolic link’) is a file that has a reference to another file. You can also explain it as being a file that points to another file, or you can see it as a ‘shortcut’ on your computer.\n\u003e\n\u003eWhen you create a symlink you are telling your computer to create a link to file A. This link is saved in file B. When we want to use file B, we are essentially using file A.\n\n### 2. Linking to your package\n\nWe now go to the project where you want to use the package (in our example the React app). In here we run\n\n```shell\n# yarn\nyarn link \u003cpackage name\u003e\n\n# So, let’s say that your package’s name is ‘catpaws’ you will do\nyarn link “catpaws”\n\n# npm\nnpm link \u003cpackage name\u003e\n\n# So, let’s say that your package’s name is ‘catpaws’ you will do\nnpm link “catpaws”\n```\n\nAwesome.\n\nYour project now has its package linked locally so you can test everything out. Are you done testing? Then make sure to unlink the package in your project folder by running:\n\n```shell\n# yarn\nyarn unlink \u003cpackage name\u003e\n\n# npm\nnpm unlink \u003cpackage name\u003e\n```\n\nAnd remove the package from the symlinks list by going to the folder of your package and running:\n\n```shell\n# yarn\nyarn unlink\n\n# npm\nnpm unlink\n```\n\n\n## How to link to your package globally?\n\nSo it’s all great to know how to create local links between projects, but how about when you don’t have a project, but your computer that needs to globally link to your local package? Well, it’s actually a bit different, but still super easy. First, let’s check which packages you already have installed globally by running:\n\n```shell\n# yarn\nyarn global list\n\n# yarn\nnpm ls -g --depth=0 --link=true\n```\n\nYou should get a nice overview of stuff that is already installed.\n\n### 1. Link to your package.\n\n**yarn**\nIn your terminal, run `yarn global add /full/path/to/package`.\nIf we now run `yarn global list` again, we should see the name of our package in the list.\n\nIf you want to remove it you simply run `yarn global remove “package name”`.\n\nNow there is a tricky part here. Yarn does not fully seem to support globally linking to local packages yet so the way we do this is actually a bit hacky. You see, yarn does not automatically update the package you have added, so for each change you want to test, you have to add it again...\n\nIt's easier with npm:\n\n**npm**\nWith npm it it the same as before, but we just go to the folder of our package and run `npm link`.\n\nIf you now run `npm ls -g --depth=0 --link=true` you’ll see that your package is in the list.\n\nYou remove it from the list by going into the package folder and running `npm unlink`.\n\n## Conclusion\nUsing either yarn or npm, once you know how, it can be easy to create symlinks to test any package between projects, or in global mode. Right now, npm seems to have the easiest workflow.\n\nI got stuck the first time I had to develop something that I wanted to test globally and it took me some time to figure out how to make this work. I hope this helps others who might encounter the same problem. If you have any other way to do this please share them in the comments so we can all learn from it 👍.\n","date":["2020-06-16"]},"__N_SSG":true},"page":"/post/[postname]","query":{"postname":"2020-06-16-Test-global-npm-packages-in-a-quick-and-easy-way"},"buildId":"VwVuN0WUYn1JdljLpkbnD","runtimeConfig":{},"nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-81bd132d8cf44e5a14d7.js"></script><script src="/_next/static/chunks/main-ae4733327bd95c4ac325.js" async=""></script><script src="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="/_next/static/chunks/framework.50c3b31bc23dfcb1af3f.js" async=""></script><script src="/_next/static/chunks/commons.9528123feb626448eb3f.js" async=""></script><script src="/_next/static/chunks/pages/_app-9e682fc65d6044778023.js" async=""></script><script src="/_next/static/chunks/0ac3ed5b5728fac15050537fed2171d1e1db6173.269474c3be8620614fcf.js" async=""></script><script src="/_next/static/chunks/pages/post/%5Bpostname%5D-7fd66e0bcf0d98800895.js" async=""></script><script src="/_next/static/VwVuN0WUYn1JdljLpkbnD/_buildManifest.js" async=""></script><script src="/_next/static/VwVuN0WUYn1JdljLpkbnD/_ssgManifest.js" async=""></script></body></html>