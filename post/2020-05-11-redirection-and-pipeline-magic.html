<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="description" content="Online space, blog and portfolio"/><title>Karin Hendrikse | Redirection and pipeline magic</title><script type="application/ld+json">{&quot;@context&quot;:&quot;https://schema.org/&quot;,&quot;@type&quot;:&quot;BreadcrumbList&quot;,&quot;itemListElement&quot;:[{&quot;@type&quot;:&quot;ListItem&quot;,&quot;position&quot;:1,&quot;name&quot;:&quot;home&quot;,&quot;item&quot;:&quot;https://khendrikse.github.io/&quot;},{&quot;@type&quot;:&quot;ListItem&quot;,&quot;position&quot;:2,&quot;name&quot;:&quot;blog&quot;,&quot;item&quot;:&quot;https://khendrikse.github.io/blog/&quot;},{&quot;@type&quot;:&quot;ListItem&quot;,&quot;position&quot;:3,&quot;name&quot;:&quot;Redirection and pipeline magic&quot;,&quot;item&quot;:&quot;https://khendrikse.github.io/post/2020-05-11-redirection-and-pipeline-magic&quot;}]}</script><meta name="next-head-count" content="5"/><link rel="preload" href="/_next/static/css/712c88f00d05ee40.css" as="style"/><link rel="stylesheet" href="/_next/static/css/712c88f00d05ee40.css" data-n-g=""/><link rel="preload" href="/_next/static/css/03191e7d313ab930.css" as="style"/><link rel="stylesheet" href="/_next/static/css/03191e7d313ab930.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-6f22bfb6ab07d707.js" defer=""></script><script src="/_next/static/chunks/framework-5d917c6d60c28f7c.js" defer=""></script><script src="/_next/static/chunks/main-c5f572bf693152d0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-ff8e7e8c05220191.js" defer=""></script><script src="/_next/static/chunks/103-fac3e5a613e6c36e.js" defer=""></script><script src="/_next/static/chunks/682-ba7ed80520a90eba.js" defer=""></script><script src="/_next/static/chunks/600-b88dde15b40655ac.js" defer=""></script><script src="/_next/static/chunks/175-08f0258b26f9ace3.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bpostname%5D-1b022da5d1d6c7f8.js" defer=""></script><script src="/_next/static/n_CN1KKNikT2L9KJtqNiw/_buildManifest.js" defer=""></script><script src="/_next/static/n_CN1KKNikT2L9KJtqNiw/_ssgManifest.js" defer=""></script><script src="/_next/static/n_CN1KKNikT2L9KJtqNiw/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div class="wrapper"><section class="layout"><header><nav class="navbar_navbar__lC1dX"><div class="navbar_navbar__inner__u9kLF"><h1 class="navbar_navbar__title__oKE_L"><a href="/">Karin Hendrikse</a></h1><ul class="navbar_navbar__menu__XlTKp"><li><a class="navbar_navbar__menu__item__6e5_F" href="/about">About</a></li><li><a class="navbar_navbar__menu__item__6e5_F" href="/blog">Blog</a></li><li><a class="navbar_navbar__menu__item__6e5_F" href="/projects">Projects</a></li><li><a class="navbar_navbar__menu__item__6e5_F" href="/">Home</a></li><li><a class="navbar_navbar__menu__icon__cKwHu" aria-label="RSS feed" href="https://khendrikse.github.io/feeds/feed.xml"><svg width="14px" height="14px" alt="RSS" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.503 20.752A3.25 3.25 0 0 1 3.252 24 3.25 3.25 0 0 1 0 20.752a3.25 3.25 0 0 1 3.252-3.248 3.25 3.25 0 0 1 3.251 3.248zM0 8.18v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817C15.777 15.29 8.721 8.242 0 8.18zm0-3.368C10.58 4.858 19.152 13.406 19.183 24H24C23.97 10.769 13.245.046 0 0v4.812z"></path></svg></a></li></ul></div></nav></header><div class="content"><article><img class="post_post__header__image__F9dvV" src="https://dev-to-uploads.s3.amazonaws.com/i/sp68ef6310avveg2dxjp.png?lqip" alt="illustration of lines and arrows going in different directions" style="transition:0.2s filter linear;filter:blur(20px)"/><div class="container"><div class="post_post__header__title__nmuW6"><div class="breadcrumbs_breadcrumbs__K4VlV"><span><a href="/">Home</a></span><span><a href="/blog">blog</a></span><span>Redirection and pipeline magic</span></div><h2>Redirection and pipeline magic</h2><div class="post_post__date_label__jb050">2020-05-11</div></div></div><div class="post_post__body__Iz5iR"><div class="container"><div class="post_post__intro__JzsWI">Enough developers out there deliver great day-to-day work without having to touch bash whatsoever. Yet, every now and then we all encounter a piece of bash script, be it from a colleague or copied from a Stack Overflow post. Yeah, the script works, but do we understand what is happening? I wanted to know myself so I started small. Let&#x27;s dive into redirection.</div><h2>Redirection</h2>
<p>A program that runs in the command line always has three important ways to connect with it; the input, output, and possible error output of the program. We call these types of connections data- or file streams.</p>
<p>Examples:</p>
<ul>
<li>The <em>input</em> of a program can be a keyboard or the output of another command, file, or program.</li>
<li>Examples of the <em>output</em> or <em>error output</em> could be another file or the terminal.</li>
</ul>
<p>These three file streams have specific names and even values. These values are called &#x27;file descriptors&#x27;. File descriptors are nothing more than numbers that are given to specific files. These three, have the numbers 0 to 2:</p>
<table><thead><tr><th>Name</th><th>Symbolic name</th><th style="text-align:center">File descriptor</th><th style="text-align:center">Sign</th><th>Default</th></tr></thead><tbody><tr><td>Standard input</td><td>stdin</td><td style="text-align:center">0</td><td style="text-align:center">&lt;</td><td>Keyboard</td></tr><tr><td>Standard output</td><td>stdout</td><td style="text-align:center">1</td><td style="text-align:center">&gt;</td><td>Terminal</td></tr><tr><td>Standard error</td><td>stderr</td><td style="text-align:center">2</td><td style="text-align:center">2&gt;</td><td>Terminal</td></tr></tbody></table>
<p>We can change the sources of these streams. This is what we call redirection.</p>
<p><em>Example</em></p>
<p>Let&#x27;s say we have a list of animals in a file called <code>animals.txt</code>.</p>
<pre><pre style="text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;color:#c3cee3;background:#263238;font-family:Roboto Mono, monospace;font-size:1em;line-height:1.5em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;overflow:auto;position:relative;margin:0.5em 0;padding:1.25em 1em"><code class="language-text" style="text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;color:#c3cee3;background:#263238;font-family:Roboto Mono, monospace;font-size:1em;line-height:1.5em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>puppy
</span>kangaroo
<!-- -->kitten
<!-- -->snake
<!-- -->wombat
<!-- -->tiger
<!-- -->bird
</code></pre></pre>
<p>What if we want to sort this list and save the outcome to a new file?</p>
<pre><code>$ sort &lt; animals.txt &gt; sortedAnimals.txt
</code></pre>
<p>We call the <code>sort</code> command and give it <code>animals.txt</code> as input by using the <code>&lt;</code> symbol. Then we set the <code>sortedAnimals.txt</code> file as the output by using the <code>&gt;</code> symbol.</p>
<p>When we open the <code>sortedAnimals.txt</code> file we will find:</p>
<pre><pre style="text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;color:#c3cee3;background:#263238;font-family:Roboto Mono, monospace;font-size:1em;line-height:1.5em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;overflow:auto;position:relative;margin:0.5em 0;padding:1.25em 1em"><code class="language-text" style="text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;color:#c3cee3;background:#263238;font-family:Roboto Mono, monospace;font-size:1em;line-height:1.5em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>bird
</span>kangaroo
<!-- -->kitten
<!-- -->puppy
<!-- -->snake
<!-- -->tiger
<!-- -->wombat
</code></pre></pre>
<p>Now, what if we wanted to sort a file that does not exist? For example:</p>
<pre><pre style="text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;color:#c3cee3;background:#263238;font-family:Roboto Mono, monospace;font-size:1em;line-height:1.5em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;overflow:auto;position:relative;margin:0.5em 0;padding:1.25em 1em"><code class="language-shell" style="text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;color:#c3cee3;background:#263238;font-family:Roboto Mono, monospace;font-size:1em;line-height:1.5em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>$ </span><span class="token token" style="color:#c792ea">sort</span><span> </span><span class="token token" style="color:#89ddff">&lt;</span><span> ghostFile.txt </span><span class="token token" style="color:#89ddff">&gt;</span><span> sortedGhostFile.txt
</span><span>-bash: ghostFile.txt: No such </span><span class="token token" style="color:#c792ea">file</span><span> or directory</span></code></pre></pre>
<p>We get an error thrown into the terminal. Of course, this is good because we want to get feedback on why something is not working. But what if we didn’t want the error to be thrown into the terminal, but written to a file? We could redirect the standard error (<code>stderr</code>) to a file as well:</p>
<pre><pre style="text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;color:#c3cee3;background:#263238;font-family:Roboto Mono, monospace;font-size:1em;line-height:1.5em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;overflow:auto;position:relative;margin:0.5em 0;padding:1.25em 1em"><code class="language-shell" style="text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;color:#c3cee3;background:#263238;font-family:Roboto Mono, monospace;font-size:1em;line-height:1.5em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>$ </span><span class="token token" style="color:#c792ea">sort</span><span> </span><span class="token token file-descriptor" style="color:#c792ea;font-weight:bold">2</span><span class="token token" style="color:#89ddff">&gt;</span><span> sortedGhostFileError.txt </span><span class="token token" style="color:#89ddff">&lt;</span><span> ghostFile.txt</span></code></pre></pre>
<p>We first say where the <code>stderr</code> of <code>sort</code> needs to direct to with the 2&gt; sign. Then we say that <code>ghostFile.txt</code> needs to be input for the sort command by using the <code>&lt;</code> sign. If you were to check, you would see that the file <code>sortedGhostFileError.txt</code> has been created and it contains the same error we saw printed into the terminal before.</p>
<p>You can also write the standard output and standard error to the same file. There are two ways to do this.</p>
<pre><pre style="text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;color:#c3cee3;background:#263238;font-family:Roboto Mono, monospace;font-size:1em;line-height:1.5em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;overflow:auto;position:relative;margin:0.5em 0;padding:1.25em 1em"><code class="language-shell" style="text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;color:#c3cee3;background:#263238;font-family:Roboto Mono, monospace;font-size:1em;line-height:1.5em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>$ </span><span class="token token" style="color:#c792ea">sort</span><span> </span><span class="token token" style="color:#89ddff">&gt;</span><span> ghostFileOutput.txt </span><span class="token token file-descriptor" style="color:#c792ea;font-weight:bold">2</span><span class="token token" style="color:#89ddff">&gt;</span><span class="token token file-descriptor" style="color:#c792ea;font-weight:bold">&amp;1</span><span> </span><span class="token token" style="color:#89ddff">&lt;</span><span> ghostFile.txt</span></code></pre></pre>
<p>We first define that <code>ghostFileOutput.txt</code> is the output, and then use the <code>2&gt;&amp;1</code> sign to redirect the standard error (2) to standard output (1).</p>
<p>You can also use the shorthand:</p>
<pre><pre style="text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;color:#c3cee3;background:#263238;font-family:Roboto Mono, monospace;font-size:1em;line-height:1.5em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;overflow:auto;position:relative;margin:0.5em 0;padding:1.25em 1em"><code class="language-shell" style="text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;color:#c3cee3;background:#263238;font-family:Roboto Mono, monospace;font-size:1em;line-height:1.5em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>$ </span><span class="token token" style="color:#c792ea">sort</span><span> </span><span class="token token" style="color:#89ddff">&amp;&gt;</span><span> ghostFileOutput.txt </span><span class="token token" style="color:#89ddff">&lt;</span><span> ghostFile.txt</span></code></pre></pre>
<h2>Pipelines</h2>
<p>Our next step in understanding redirection is by understanding ‘Pipelines’. The pipe operator <code>|</code> lets us chain different commands together. This can be very useful. It lets us write small programs or commands, and chain them to let them perform more complex tasks. With the pipe symbol, you can use the output of one command as the input of the next.</p>
<p>Let&#x27;s say that we want to use the same <code>list.txt</code> we had before. We want to sort the list and grab the animal that is first in the list after sorting. We could do:</p>
<pre><pre style="text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;color:#c3cee3;background:#263238;font-family:Roboto Mono, monospace;font-size:1em;line-height:1.5em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;overflow:auto;position:relative;margin:0.5em 0;padding:1.25em 1em"><code class="language-shell" style="text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;color:#c3cee3;background:#263238;font-family:Roboto Mono, monospace;font-size:1em;line-height:1.5em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>$ </span><span class="token token" style="color:#c792ea">sort</span><span> animals.txt </span><span class="token token" style="color:#89ddff">|</span><span> </span><span class="token token" style="color:#c792ea">head</span><span> -1</span></code></pre></pre>
<p>This will first sort the <code>list.txt</code> file, use the outcome of that as the input of the <code>head -1</code> command, which will grab only the first line of the input it gets. As we have not specified what output the last command should have, it just prints <code>bird</code> to the terminal. As it is the first animal in the sorted list.</p>
<p>We could also save that animal as a separate file by combining our pipe symbol with one of the redirection symbols:</p>
<pre><pre style="text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;color:#c3cee3;background:#263238;font-family:Roboto Mono, monospace;font-size:1em;line-height:1.5em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;overflow:auto;position:relative;margin:0.5em 0;padding:1.25em 1em"><code class="language-shell" style="text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;color:#c3cee3;background:#263238;font-family:Roboto Mono, monospace;font-size:1em;line-height:1.5em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>$ </span><span class="token token" style="color:#c792ea">sort</span><span> animals.txt </span><span class="token token" style="color:#89ddff">|</span><span> </span><span class="token token" style="color:#c792ea">head</span><span> -1 </span><span class="token token" style="color:#89ddff">&gt;</span><span> first-animal.txt</span></code></pre></pre>
<p>This will save the outcome to a file called <code>first-animal.txt</code>.</p>
<h2>Redirection summary</h2>
<p>So, a file can have input, output, and error output. We can explicitly say where these three need to point at. This is possible by using different signs or operators. Including <code>&lt;</code>, <code>&gt;</code>, <code>2&gt;</code>, and the pipe operator <code>|</code>. If you want to read more about this try typing <code>man bash</code> in your terminal and search for <code>/REDIRECTION</code>. Other than that, try it out yourself by fiddling around in your terminal. Have fun!</p>
<p>Do you know an interesting fact about redirection? Make sure to share it in the comments below!</p></div></div></article></div></section></div><div class="footer_footer__7PBRV"><div class="footer_footer__links__Z7tzO"><a class="footer_footer__link__VHWPt" aria-label="DEV.to" href="https://dev.to/khenhey"><svg width="24px" height="24px" alt="DEV.to" viewBox="0 32 448 448" xmlns="http://www.w3.org/2000/svg"><path d="M120.12 208.29c-3.88-2.9-7.77-4.35-11.65-4.35H91.03v104.47h17.45c3.88 0 7.77-1.45 11.65-4.35s5.82-7.25 5.82-13.06v-69.65c-.01-5.8-1.96-10.16-5.83-13.06zM404.1 32H43.9C19.7 32 .06 51.59 0 75.8v360.4C.06 460.41 19.7 480 43.9 480h360.2c24.21 0 43.84-19.59 43.9-43.8V75.8c-.06-24.21-19.7-43.8-43.9-43.8zM154.2 291.19c0 18.81-11.61 47.31-48.36 47.25h-46.4V172.98h47.38c35.44 0 47.36 28.46 47.37 47.28zm100.68-88.66H201.6v38.42h32.57v29.57H201.6v38.41h53.29v29.57h-62.18c-11.16.29-20.44-8.53-20.72-19.69V193.7c-.27-11.15 8.56-20.41 19.71-20.69h63.19zm103.64 115.29c-13.2 30.75-36.85 24.63-47.44 0l-38.53-144.8h32.57l29.71 113.72 29.57-113.72h32.58z"></path></svg></a><a class="footer_footer__link__VHWPt" aria-label="GitHub" href="https://github.com/khendrikse"><svg width="24px" height="24px" alt="GitHub" viewBox="0 0 128 128" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid"><path d="M64 1.564c11.611 0 22.32 2.86 32.125 8.583 9.806 5.722 17.57 13.486 23.292 23.292C125.139 43.244 128 53.953 128 65.564c0 13.944-4.07 26.486-12.208 37.625-8.14 11.139-18.653 18.847-31.542 23.125-1.5.278-2.611.083-3.333-.583a3.237 3.237 0 0 1-1.077-2.273l-.006-.374.064-10.196.017-5.517.002-1.724c0-5.389-1.445-9.333-4.334-11.833 3.167-.334 6.014-.834 8.542-1.5 2.528-.667 5.139-1.75 7.833-3.25 2.695-1.5 4.945-3.348 6.75-5.542 1.806-2.194 3.278-5.111 4.417-8.75 1.139-3.639 1.708-7.82 1.708-12.542 0-6.61-2.194-12.333-6.583-17.166 2.055-5.056 1.833-10.723-.667-17-1.555-.5-3.805-.195-6.75.916-2.944 1.112-5.5 2.334-7.666 3.667l-3.167 2c-5.167-1.444-10.5-2.167-16-2.167s-10.833.723-16 2.167a40.185 40.185 0 0 0-.514-.347l-.571-.375-.308-.197-.658-.416-1.096-.676-.395-.239c-.22-.133-.46-.27-.72-.412l-.543-.289-.594-.299a41.772 41.772 0 0 0-.645-.31l-.696-.32c-.12-.055-.242-.11-.367-.165l-.772-.337-.823-.348-.873-.359-.925-.37c-3.167-1.25-5.528-1.624-7.083-1.124-2.5 6.277-2.722 11.944-.667 17-4.389 4.833-6.583 10.555-6.583 17.166 0 4.723.57 8.89 1.708 12.5 1.139 3.611 2.597 6.528 4.375 8.75 1.778 2.223 4.014 4.084 6.708 5.584 2.695 1.5 5.306 2.583 7.834 3.25 2.527.666 5.375 1.166 8.541 1.5-2.166 2-3.528 4.86-4.083 8.583a16.527 16.527 0 0 1-3.75 1.25c-1.333.278-2.917.417-4.75.417-1.833 0-3.653-.597-5.458-1.792-1.806-1.194-3.348-2.93-4.625-5.208-1.056-1.778-2.403-3.222-4.042-4.334-1.639-1.11-3.014-1.777-4.125-2l-1.667-.25c-1.166 0-1.972.126-2.416.375-.445.25-.584.57-.417.959.167.389.417.778.75 1.166.333.39.695.723 1.083 1l.584.417c1.222.556 2.43 1.611 3.625 3.167 1.194 1.555 2.07 2.972 2.625 4.25l.833 1.916c.722 2.111 1.945 3.82 3.667 5.125 1.722 1.306 3.583 2.14 5.583 2.5 2 .362 3.93.556 5.792.584 1.706.025 3.143-.054 4.313-.239l2.228-.386.01 3.427.074 8.49c0 1-.361 1.833-1.084 2.5-.722.666-1.833.86-3.333.583-12.889-4.278-23.403-11.986-31.542-23.125C4.07 92.049 0 79.509 0 65.564c0-11.612 2.861-22.32 8.583-32.125 5.723-9.806 13.486-17.57 23.292-23.292 9.592-5.598 20.049-8.458 31.37-8.58L64 1.565ZM24.25 93.48c.166-.39-.028-.723-.584-1-.555-.167-.916-.111-1.083.166-.167.39.028.723.583 1 .5.334.862.278 1.084-.166Zm2.583 2.833c.389-.278.333-.722-.167-1.333-.555-.5-1-.584-1.333-.25-.389.277-.333.722.167 1.333.555.555 1 .639 1.333.25Zm2.5 3.75c.5-.389.5-.917 0-1.583-.444-.723-.916-.89-1.416-.5-.5.277-.5.777 0 1.5.5.722.972.916 1.416.583Zm3.5 3.5c.417-.417.345-.907-.215-1.47l-.118-.113c-.667-.667-1.222-.75-1.667-.25-.5.444-.389.972.333 1.583.667.667 1.223.75 1.667.25Zm4.75 2.083c.167-.61-.194-1.055-1.083-1.333-.834-.222-1.361-.028-1.584.583-.222.611.14 1.028 1.084 1.25.781.313 1.294.186 1.538-.38l.045-.12Zm5.25.417c0-.722-.472-1.028-1.417-.917-.888 0-1.333.306-1.333.917 0 .722.472 1.028 1.417.917.83 0 1.272-.267 1.327-.799l.006-.118Zm4.833-.833c-.11-.612-.61-.862-1.5-.75-.888.166-1.277.583-1.166 1.25.11.666.61.888 1.5.666.83-.207 1.224-.56 1.182-1.058l-.016-.108Z" fill="currentColor"></path></svg></a><a class="footer_footer__link__VHWPt" aria-label="linkedin" href="https://www.linkedin.com/in/karinhendrikse/"><svg width="24px" height="24px" alt="LinkedIn" xmlns="http://www.w3.org/2000/svg"><path d="M19 0H5a5 5 0 0 0-5 5v14a5 5 0 0 0 5 5h14a5 5 0 0 0 5-5V5a5 5 0 0 0-5-5zM8 19H5V8h3v11zM6.5 6.732c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zM20 19h-3v-5.604c0-3.368-4-3.113-4 0V19h-3V8h3v1.765c1.396-2.586 7-2.777 7 2.476V19z"></path></svg></a><a class="footer_footer__link__VHWPt" aria-label="RSS feed" href="https://khendrikse.github.io/feeds/feed.xml"><svg width="24px" height="24px" alt="RSS" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.503 20.752A3.25 3.25 0 0 1 3.252 24 3.25 3.25 0 0 1 0 20.752a3.25 3.25 0 0 1 3.252-3.248 3.25 3.25 0 0 1 3.251 3.248zM0 8.18v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817C15.777 15.29 8.721 8.242 0 8.18zm0-3.368C10.58 4.858 19.152 13.406 19.183 24H24C23.97 10.769 13.245.046 0 0v4.812z"></path></svg></a>© <!-- -->2022<!-- --> Karin Hendrikse</div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"siteTitle":"Karin Hendrikse","frontmatter":{"layout":"post","title":"Redirection and pipeline magic","published":true,"description":"For when you don't feel like diving deep into bash but do want to know what redirection is when you see it.","intro":"Enough developers out there deliver great day-to-day work without having to touch bash whatsoever. Yet, every now and then we all encounter a piece of bash script, be it from a colleague or copied from a Stack Overflow post. Yeah, the script works, but do we understand what is happening? I wanted to know myself so I started small. Let's dive into redirection.","tags":null,"cover_image":"https://dev-to-uploads.s3.amazonaws.com/i/sp68ef6310avveg2dxjp.png","cover_image_alt":"illustration of lines and arrows going in different directions"},"markdownBody":"\n## Redirection\n\nA program that runs in the command line always has three important ways to connect with it; the input, output, and possible error output of the program. We call these types of connections data- or file streams.\n\nExamples:\n\n- The _input_ of a program can be a keyboard or the output of another command, file, or program.\n- Examples of the _output_ or _error output_ could be another file or the terminal.\n\nThese three file streams have specific names and even values. These values are called 'file descriptors'. File descriptors are nothing more than numbers that are given to specific files. These three, have the numbers 0 to 2:\n\n| Name            | Symbolic name | File descriptor | Sign | Default  |\n| --------------- | ------------- | :-------------: | :--: | -------- |\n| Standard input  | stdin         |        0        |  \u003c   | Keyboard |\n| Standard output | stdout        |        1        |  \u003e   | Terminal |\n| Standard error  | stderr        |        2        |  2\u003e  | Terminal |\n\nWe can change the sources of these streams. This is what we call redirection.\n\n_Example_\n\nLet's say we have a list of animals in a file called `animals.txt`.\n\n```text\npuppy\nkangaroo\nkitten\nsnake\nwombat\ntiger\nbird\n```\n\nWhat if we want to sort this list and save the outcome to a new file?\n\n```\n$ sort \u003c animals.txt \u003e sortedAnimals.txt\n```\n\nWe call the `sort` command and give it `animals.txt` as input by using the `\u003c` symbol. Then we set the `sortedAnimals.txt` file as the output by using the `\u003e` symbol.\n\nWhen we open the `sortedAnimals.txt` file we will find:\n\n```text\nbird\nkangaroo\nkitten\npuppy\nsnake\ntiger\nwombat\n```\n\nNow, what if we wanted to sort a file that does not exist? For example:\n\n```shell\n$ sort \u003c ghostFile.txt \u003e sortedGhostFile.txt\n-bash: ghostFile.txt: No such file or directory\n```\n\nWe get an error thrown into the terminal. Of course, this is good because we want to get feedback on why something is not working. But what if we didn’t want the error to be thrown into the terminal, but written to a file? We could redirect the standard error (`stderr`) to a file as well:\n\n```shell\n$ sort 2\u003e sortedGhostFileError.txt \u003c ghostFile.txt\n```\n\nWe first say where the `stderr` of `sort` needs to direct to with the 2\u003e sign. Then we say that `ghostFile.txt` needs to be input for the sort command by using the `\u003c` sign. If you were to check, you would see that the file `sortedGhostFileError.txt` has been created and it contains the same error we saw printed into the terminal before.\n\nYou can also write the standard output and standard error to the same file. There are two ways to do this.\n\n```shell\n$ sort \u003e ghostFileOutput.txt 2\u003e\u00261 \u003c ghostFile.txt\n```\n\nWe first define that `ghostFileOutput.txt` is the output, and then use the `2\u003e\u00261` sign to redirect the standard error (2) to standard output (1).\n\nYou can also use the shorthand:\n\n```shell\n$ sort \u0026\u003e ghostFileOutput.txt \u003c ghostFile.txt\n```\n\n## Pipelines\n\nOur next step in understanding redirection is by understanding ‘Pipelines’. The pipe operator `|` lets us chain different commands together. This can be very useful. It lets us write small programs or commands, and chain them to let them perform more complex tasks. With the pipe symbol, you can use the output of one command as the input of the next.\n\nLet's say that we want to use the same `list.txt` we had before. We want to sort the list and grab the animal that is first in the list after sorting. We could do:\n\n```shell\n$ sort animals.txt | head -1\n```\n\nThis will first sort the `list.txt` file, use the outcome of that as the input of the `head -1` command, which will grab only the first line of the input it gets. As we have not specified what output the last command should have, it just prints `bird` to the terminal. As it is the first animal in the sorted list.\n\nWe could also save that animal as a separate file by combining our pipe symbol with one of the redirection symbols:\n\n```shell\n$ sort animals.txt | head -1 \u003e first-animal.txt\n```\n\nThis will save the outcome to a file called `first-animal.txt`.\n\n## Redirection summary\n\nSo, a file can have input, output, and error output. We can explicitly say where these three need to point at. This is possible by using different signs or operators. Including `\u003c`, `\u003e`, `2\u003e`, and the pipe operator `|`. If you want to read more about this try typing `man bash` in your terminal and search for `/REDIRECTION`. Other than that, try it out yourself by fiddling around in your terminal. Have fun!\n\nDo you know an interesting fact about redirection? Make sure to share it in the comments below!\n","date":["2020-05-11"],"slug":"2020-05-11-redirection-and-pipeline-magic"},"__N_SSG":true},"page":"/post/[postname]","query":{"postname":"2020-05-11-redirection-and-pipeline-magic"},"buildId":"n_CN1KKNikT2L9KJtqNiw","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>